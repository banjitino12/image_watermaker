# 图片批量水印命令行程序需求文档

## 一、项目简介

本程序为命令行工具，支持用户批量为图片添加拍摄日期水印。水印内容自动读取图片 EXIF 信息中的拍摄时间（年月日），并可自定义水印样式和位置。处理后的图片将保存至原目录下的 `_watermark` 子目录。

## 二、功能需求

1. **输入参数**
   - 图片文件路径（支持单张图片或目录）。
   - 水印字体大小（可选，默认值需设定）。
   - 水印字体颜色（可选，支持常见颜色或自定义 RGB）。
   - 水印位置（可选，支持左上角、居中、右下角等预设位置）。

2. **EXIF 信息读取**
   - 读取每张图片的 EXIF 信息，提取拍摄时间（年月日）。
   - 若无拍摄时间，则可提示用户或跳过该图片。

3. **水印绘制**
   - 将拍摄日期作为水印文本，绘制到图片指定位置。
   - 支持自定义字体大小、颜色和位置。

4. **输出结果**
   - 处理后的图片保存至原目录下的 `_watermark` 子目录。
   - 保持原图片文件名，支持批量处理。

5. **命令行交互**
   - 提供友好的命令行参数说明和帮助信息。
   - 支持参数校验和错误提示。

## 三、非功能需求

- 支持主流图片格式（如 JPG、PNG）。
- 处理速度快，支持批量操作。
- 程序健壮，能处理异常情况（如无 EXIF、无拍摄时间、无读写权限等）。
- 代码结构清晰，易于维护和扩展。

## 四、示例命令

```shell
python image_watermaker.py --path "E:\photos" --font-size 32 --color "#FF0000" --position "bottom-right"
```

## 五、目录结构

- 原图片目录：`E:\photos`
- 水印图片目录：`E:\photos_watermark`

---


